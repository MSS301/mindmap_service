spring.application.name=mindmap-service

# ================================
# Server
# ================================
server.port=8087
server.servlet.context-path=/mindmap-service

# ================================
# Datasource (PostgreSQL)
# ================================
spring.datasource.url=jdbc:postgresql://ep-solitary-flower-a1yzr7x2-pooler.ap-southeast-1.aws.neon.tech:5432/neondb?sslmode=require&channel_binding=require
spring.datasource.username=neondb_owner
spring.datasource.password=npg_X9dEG6hsuIeV
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.hikari.pool-name=MindmapServicePool
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.max-lifetime=240000
spring.datasource.hikari.idle-timeout=180000
spring.datasource.hikari.connection-timeout=10000
spring.datasource.hikari.validation-timeout=3000
spring.datasource.hikari.connection-test-query=SELECT 1

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.properties.hibernate.format_sql=false


# ================================
# Jackson serialization options
# ================================
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.serialization.write-date-timestamps-as-nanoseconds=false
spring.jackson.date-format=yyyy-MM-dd'T'HH:mm:ss.SSS
spring.jackson.time-zone=UTC
spring.jackson.deserialization.adjust-dates-to-context-time-zone=false

# ================================
# API documentation
# ================================
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# ================================
# Mindmap storage & AI integration
# ================================
mindmap.storage.base-dir=./data/mindmaps
mindmap.ai.gemini.url=https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent
mindmap.ai.gemini.temperature=0.15
mindmap.ai.gemini.max-output-tokens=1500
mindmap.ai.gemini.api-key=AIzaSyC2KtK0V5m3yWdVlQjAa-8k0h97XALP4EE

#AIzaSyBECQsfDk0dTsc_xVKMziIOuGaKrO4D3NA

# Optional notification bridge (set both url and api-key if used)
mindmap.notification.url=
mindmap.notification.api-key=
mindmap.notification.api-key-header=X-API-KEY
mindmap.notification.title=Mindmap ready for you
mindmap.notification.template=A new mindmap "{name}" created from: {prompt}

# ================================
# Service discovery (optional)
# ================================
eureka.client.service-url.defaultZone=http://localhost:8888/eureka
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.instance.prefer-ip-address=true

# ================================
# Actuator
# ================================
management.endpoints.web.exposure.include=health,info,metrics,circuitbreakers
management.endpoint.health.show-details=always
management.health.circuitbreakers.enabled=true
management.metrics.export.simple.enabled=true
